## ğŸ“‹ ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ç”Ÿæˆã¾ã§ã®å®Œå…¨ãªãƒ—ãƒ­ã‚»ã‚¹ï¼ˆ8ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

### ãƒˆãƒ¬ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§
```
/EVERYTIME-LOG/trace/2026-02-06/124940-440041/
â”œâ”€â”€ run.json                    # ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ stage-00.raw.jsonl          # Step 1: ç”Ÿãƒ‡ãƒ¼ã‚¿ä¿å­˜
â”œâ”€â”€ stage-01.entities.jsonl     # Step 2: ç‰¹å¾´æŠ½å‡º
â”œâ”€â”€ stage-02.segment.jsonl      # Step 3: ã‚»ã‚°ãƒ¡ãƒ³ãƒˆä»˜ä¸
â”œâ”€â”€ stage-03.hour.jsonl         # Step 4: 1æ™‚é–“ãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆ
â”œâ”€â”€ stage-03.llm.jsonl          # Step 5: ã‚»ã‚°ãƒ¡ãƒ³ãƒˆLLM (enrich)
â”œâ”€â”€ stage-04.hour-llm.jsonl     # Step 6: æ™‚é–“ãƒ–ãƒ­ãƒƒã‚¯LLM (summarize)
â””â”€â”€ stage-04.timeline.jsonl     # Step 7: ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³æ•´å½¢
```

---

## ğŸ”„ ã‚¹ãƒ†ãƒ¼ã‚¸åˆ¥ãƒ‡ãƒ¼ã‚¿å¤‰æ›ï¼ˆå®Œå…¨ç‰ˆï¼‰

å¯¾è±¡ã‚¤ãƒ™ãƒ³ãƒˆ: `id: 33300725-cebd-4287-864e-690a82bc38e3` (12:47:22)

---

### **Step 0: run.jsonï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼‰**

```json
{
  "run_id": "124940-440041",
  "source": "menubar",
  "started_at": "2026-02-06T12:49:40.441124+09:00"
}
```

---

### **Step 1: stage-00.raw.jsonlï¼ˆç”Ÿãƒ‡ãƒ¼ã‚¿ä¿å­˜ï¼‰**

**å…¥åŠ›**: `EVERYTIME-LOG/logs/2026-02-06.jsonl` 56è¡Œç›®

**å‡ºåŠ›**:

```json
{
  "event": {
    "id": "33300725-cebd-4287-864e-690a82bc38e3",
    "ts": "2026-02-06T12:47:22+09:00",
    "active_app": "Cursor",
    "window_title": "",
    "ocr_active_display_text": "ãƒ­ãƒ­ãƒ¼ $\n7mãƒ»+81-29ãƒ»6P1652\nç¶šã\nâ— 4of 4 To-dos Completed\n...(é•·ã„OCRãƒ†ã‚­ã‚¹ãƒˆ)...",
    "ocr_by_display": [
      {"display": 2, "ocr_text": "...", ...},
      {"display": 3, "ocr_text": "...", ...},
      {"display": 1, "ocr_text": "...", ...}
    ],
    ...
  }
}
```

**å¤‰æ›**: `event` ã‚­ãƒ¼ã§ãƒ©ãƒƒãƒ—ï¼ˆã»ã¼ãã®ã¾ã¾ä¿å­˜ï¼‰

---

### **Step 2: stage-01.entities.jsonlï¼ˆç‰¹å¾´æŠ½å‡ºï¼‰**

**åŠ å·¥å‰** (stage-00):

```json
{
  "event": {
    "id": "33300725-cebd-4287-864e-690a82bc38e3",
    "ocr_active_display_text": "ãƒ­ãƒ­ãƒ¼ $\n7mãƒ»+81-29ãƒ»6P1652\nç¶šã\n...",
    "ocr_by_display": [...]
  }
}
```

**åŠ å·¥å¾Œ** (stage-01):

```json
{
  "event_id": "33300725-cebd-4287-864e-690a82bc38e3",
  "ts": "2026-02-06T12:47:22+09:00",
  "active_app": "Cursor",
  "window_title": "",
  "domain": "",
  "segment_key": ["Cursor", "", ""],
  "primary_source": "active_display",
  "normalized_text": "ãƒ­ãƒ­ãƒ¼ $ 7mãƒ»+81-29ãƒ»6P1652 ç¶šã â— 4of 4 To-dos Completed ...",
  "urls": [],
  "paths": [],
  "keywords": ["summarize.py", "everLog", "excluded", "hourly LLM", ...],
  "snippets": ["everLog/summarize.py ãŒexcLuded/errorã‚’ç¨¼åƒæ™‚é–“åŠ ç®—ã‹ã‚‰é™¤å¤–", ...]
}
```

**ğŸ”¹ å¤‰æ›å†…å®¹**:
- `id` â†’ `event_id` ã«ã‚­ãƒ¼åå¤‰æ›´
- OCRãƒ†ã‚­ã‚¹ãƒˆã‚’æ­£è¦åŒ–ï¼ˆæ”¹è¡Œâ†’ç©ºç™½ï¼‰
- `urls`, `paths`, `keywords`, `snippets` ã‚’æŠ½å‡º
- ä¸è¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å‰Šé™¤ï¼ˆ`ocr_by_display`, etc.ï¼‰

---

### **Step 3: stage-02.segment.jsonlï¼ˆã‚»ã‚°ãƒ¡ãƒ³ãƒˆä»˜ä¸ï¼‰**

**åŠ å·¥å‰** (stage-01):

```json
{
  "event_id": "33300725-cebd-4287-864e-690a82bc38e3",
  "segment_key": ["Cursor", "", ""],
  ...
}
```

**åŠ å·¥å¾Œ** (stage-02):

```diff
{
  "event_id": "33300725-cebd-4287-864e-690a82bc38e3",
  "segment_key": ["Cursor", "", ""],
  ...
+ "segment_id": 36,
+ "segment_label": "Cursor /  / "
}
```

**ğŸ”¹ å¤‰æ›å†…å®¹**:
- `segment_id: 36` ã‚’ä»˜ä¸ï¼ˆåŒã˜segment_keyã‚’æŒã¤é€£ç¶šã‚¤ãƒ™ãƒ³ãƒˆã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ï¼‰
- `segment_label` ã‚’ç”Ÿæˆ

---

### **Step 4: stage-03.hour.jsonlï¼ˆ1æ™‚é–“ãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆç”Ÿæˆï¼‰**

**åŠ å·¥å‰** (stage-02 ã®12æ™‚å°ã‚¤ãƒ™ãƒ³ãƒˆç¾¤):

```json
// 12:00ã€œ12:59 ã®å…¨ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆsegment_id: 32ã€œ38 ãªã©è¤‡æ•°ï¼‰
[
  {"event_id": "...", "ts": "12:00:xx", "active_app": "Slack", "segment_id": 32, ...},
  {"event_id": "...", "ts": "12:01:xx", "active_app": "Cursor", "segment_id": 33, ...},
  ...
  {"event_id": "33300725-...", "ts": "12:47:22", "active_app": "Cursor", "segment_id": 36, ...},
  ...
]
```

**åŠ å·¥å¾Œ** (stage-03.hour):

```json
{
  "hour_start_ts": "2026-02-06T12:00:00+09:00",
  "hour_end_ts": "2026-02-06T12:59:59+09:00",
  "active_sec_est": 3000,
  "top_apps": [
    {"app": "Cursor", "sec": 1860},
    {"app": "Slack", "sec": 420},
    {"app": "Google Chrome", "sec": 300},
    {"app": "Codex", "sec": 300},
    {"app": "CotEditor", "sec": 60}
  ],
  "top_domains": [
    {"domain": "x.com", "sec": 240},
    {"domain": "note.com", "sec": 60}
  ],
  "top_contexts": [
    {"context": "Cursor", "sec": 1860},
    {"context": "Slack", "sec": 420},
    ...
  ],
  "signals": ["capture.py", "apple.py", "2026-02-05.md", "chatgpt.com", ...],
  "snippets": ["-referencel Log.app/Contents/Macos/python...", ...]
}
```

**ğŸ”¹ å¤‰æ›å†…å®¹**:
- 1æ™‚é–“å†…ã®å…¨ã‚¤ãƒ™ãƒ³ãƒˆã‚’é›†ç´„
- `active_sec_est`: æ¨å®šç¨¼åƒæ™‚é–“ï¼ˆ50åˆ†ï¼‰
- `top_apps/domains/contexts`: ä½¿ç”¨æ™‚é–“ãƒ©ãƒ³ã‚­ãƒ³ã‚°
- `signals/snippets`: OCRã‹ã‚‰æŠ½å‡ºã—ãŸè¨¼æ‹ 

---

### **Step 5: stage-03.llm.jsonlï¼ˆã‚»ã‚°ãƒ¡ãƒ³ãƒˆLLM / enrichã‚³ãƒãƒ³ãƒ‰ï¼‰**

**åŠ å·¥å‰** (stage-02 ã® segment_id: 36 ã‚°ãƒ«ãƒ¼ãƒ—):

```json
// segment_id: 36 ã«å±ã™ã‚‹è¤‡æ•°ã‚¤ãƒ™ãƒ³ãƒˆ
[
  {"event_id": "33300725-...", "segment_id": 36, "normalized_text": "ãƒ­ãƒ­ãƒ¼ $ 7mãƒ»...summarize.py...", ...},
  {"event_id": "...", "segment_id": 36, "normalized_text": "...", ...},
  ...
]
```

**åŠ å·¥å¾Œ** (stage-03.llm):

```json
{
  "event_id": "33300725-cebd-4287-864e-690a82bc38e3",
  "segment_id": 36,
  "task_title": "Cursorã§summarize.pyã¨EVERLOGé–¢é€£ã‚’ç¢ºèª",
  "task_summary": "everLog/summarize.py ãŠã‚ˆã³ summarize.py ã®å®Ÿè£…/ä½¿ã„æ–¹ã‚’å‚ç…§ã—ãŸã€‚",
  "category": "dev",
  "confidence": 0.6
}
```

**ğŸ”¹ å¤‰æ›å†…å®¹**:
- LLMãŒã‚»ã‚°ãƒ¡ãƒ³ãƒˆå†…ã®OCRãƒ†ã‚­ã‚¹ãƒˆã‚’è§£æ
- `task_title`: è¡Œå‹•/ç›®çš„ã‚¿ã‚¤ãƒˆãƒ«ã‚’ç”Ÿæˆ
- `task_summary`: è¦ç´„ã‚’ç”Ÿæˆ
- `category`: ã‚«ãƒ†ã‚´ãƒªåˆ†é¡
- `confidence`: ç¢ºä¿¡åº¦

---

### **Step 6: stage-04.hour-llm.jsonlï¼ˆæ™‚é–“ãƒ–ãƒ­ãƒƒã‚¯LLM / summarizeã‚³ãƒãƒ³ãƒ‰ï¼‰**

**åŠ å·¥å‰** (stage-03.hour ã®12æ™‚å°):

```json
{
  "hour_start_ts": "2026-02-06T12:00:00+09:00",
  "active_sec_est": 3000,
  "top_apps": [{"app": "Cursor", "sec": 1860}, ...],
  "signals": ["capture.py", "apple.py", ...],
  "snippets": [...]
}
```

**åŠ å·¥å¾Œ** (stage-04.hour-llm):

```json
{
  "hour_start_ts": "2026-02-06T12:00:00+09:00",
  "hour_end_ts": "2026-02-06T12:59:59+09:00",
  "hour_title": "é•·æ™‚é–“ã®å‚ç…§ã¨ã‚³ãƒ¼ãƒ‰ä½œæ¥­",
  "hour_summary": "Cursorã‚’ä¸­å¿ƒã«å…¥åŠ›ãƒ»ã‚³ãƒ¼ãƒ‰ç·¨é›†ã¨å‚ç…§è³‡æ–™ã‚’çµ„ã¿åˆã‚ã›ã¦ä½œæ¥­ã€‚Slackã‚„Codexã€CotEditorã‚‚æ´»ç™ºã«ä½µç”¨ã€‚",
  "hour_detail": "è¦³æ¸¬: Cursorã§ã®å…¥åŠ›ä½œæ¥­ãŒé•·æ™‚é–“ç¶šãã€Slackãƒ»Codexãƒ»CotEditorã®åˆ©ç”¨ã‚‚ä½µç”¨ã€‚é·ç§»: 12:00 Slackã€12:01 Cursorã€12:09 Slackã€12:10 CotEditorã€‚æ¨æ¸¬1: ã‚³ãƒ¼ãƒ‰ç·¨é›†ã¨æŠ€è¡“ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã®ä¸¦è¡Œä½œæ¥­ã€‚...",
  "screens": [
    "Cursor: ãƒ†ã‚­ã‚¹ãƒˆ/ã‚³ãƒ¼ãƒ‰ç·¨é›†",
    "Slack: ãƒãƒ£ãƒƒãƒˆ",
    "Codex: ã‚³ãƒ¼ãƒ‰å‚ç…§/ç”Ÿæˆãƒ„ãƒ¼ãƒ«",
    ...
  ],
  "category": "dev",
  "confidence": 0.7,
  "evidence": ["chatgpt.com/c/...", "x.com/kensuu/status", "2026-02-06.jsonl", ...]
}
```

**ğŸ”¹ å¤‰æ›å†…å®¹**:
- LLMãŒ1æ™‚é–“ãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆã‚’è‡ªç„¶è¨€èªã§è¦ç´„
- `hour_title`: æ™‚é–“å¸¯ã‚¿ã‚¤ãƒˆãƒ«
- `hour_summary`: æ¦‚è¦
- `hour_detail`: è¦³æ¸¬ãƒ»æ¨æ¸¬ã‚’å«ã‚€è©³ç´°
- `screens`: ç”»é¢ã”ã¨ã®èª¬æ˜
- `evidence`: æ ¹æ‹ ã¨ãªã£ãŸã‚·ã‚°ãƒŠãƒ«

---

### **Step 7: stage-04.timeline.jsonlï¼ˆã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³æ•´å½¢ï¼‰**

**åŠ å·¥å‰** (stage-02 + stage-03.llm):

```json
// stage-02.segment
{"event_id": "33300725-...", "ts": "2026-02-06T12:47:22", "segment_id": 36, ...}

// stage-03.llm
{"segment_id": 36, "task_title": "Cursorã§summarize.pyã¨EVERLOGé–¢é€£ã‚’ç¢ºèª", "task_summary": "...", "category": "dev"}
```

**åŠ å·¥å¾Œ** (stage-04.timeline):

```json
{
  "segment_id": 36,
  "line": "- 12:47ã€œ12:52 Cursorã§summarize.pyã¨EVERLOGé–¢é€£ã‚’ç¢ºèªï¼ˆ5åˆ†ï¼‰ [dev] â€” everLog/summarize.py ãŠã‚ˆã³ summarize.py ã®å®Ÿè£…/ä½¿ã„æ–¹ã‚’å‚ç…§ã—ãŸã€‚"
}
```

**ğŸ”¹ å¤‰æ›å†…å®¹**:
- segmentå†…ã®æ™‚åˆ»ç¯„å›²ã‚’è¨ˆç®— â†’ `12:47ã€œ12:52`
- ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ: `- {æ™‚åˆ»} {task_title}ï¼ˆ{åˆ†}ï¼‰ [{category}] â€” {task_summary}`

---

### **Step 8: æœ€çµ‚ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ç”Ÿæˆ**

**åŠ å·¥å‰**: 
- stage-03.hour.jsonlï¼ˆçµ±è¨ˆæƒ…å ±ï¼‰
- stage-04.hour-llm.jsonlï¼ˆæ™‚é–“å¸¯LLMçµæœï¼‰
- stage-04.timeline.jsonlï¼ˆã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è¡Œï¼‰

**åŠ å·¥å¾Œ**: `EVERYTIME-LOG/out/2026-02-06.md`

```markdown
# ä½œæ¥­ãƒ­ã‚° 2026-02-06

- è¨˜éŒ²æœŸé–“ï¼š00:00ã€œ12:52ï¼ˆç´„12æ™‚é–“52åˆ†ï¼‰
- ã‚­ãƒ£ãƒ—ãƒãƒ£æ•°ï¼š57å›ï¼ˆæœ‰åŠ¹XXï¼é™¤å¤–XXï¼å¤±æ•—XXï¼‰
- æ¨å®šç·æ™‚é–“ï¼šXXåˆ†

## æœ¬æ—¥ã®ãƒ¡ã‚¤ãƒ³ä½œæ¥­ï¼ˆæ¨å®šï¼‰
1. é•·æ™‚é–“ã®å‚ç…§ã¨ã‚³ãƒ¼ãƒ‰ä½œæ¥­ï¼ˆç´„50åˆ†ï¼‰â€” Cursorã‚’ä¸­å¿ƒã«...
...

## 12:00ã€œ12:59ï¼ˆæ¨å®šç¨¼åƒï¼š50åˆ†ï¼‰
ä¸»ãªç”»é¢ï¼šCursorï¼ˆ31åˆ†ï¼‰ã€Slackï¼ˆ7åˆ†ï¼‰ã€Google Chromeï¼ˆ5åˆ†ï¼‰

- æ¨å®šï¼šé•·æ™‚é–“ã®å‚ç…§ã¨ã‚³ãƒ¼ãƒ‰ä½œæ¥­
- æ¦‚è¦ï¼šCursorã‚’ä¸­å¿ƒã«å…¥åŠ›ãƒ»ã‚³ãƒ¼ãƒ‰ç·¨é›†ã¨å‚ç…§è³‡æ–™ã‚’çµ„ã¿åˆã‚ã›ã¦ä½œæ¥­ã€‚
- è©³ç´°ï¼šè¦³æ¸¬: Cursorã§ã®å…¥åŠ›ä½œæ¥­ãŒé•·æ™‚é–“ç¶šã...

### ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³
- 12:00ã€œ12:08 Slackã§ä¼šè©±ç¢ºèªï¼ˆ8åˆ†ï¼‰ [communication] â€” ...
- ...
- 12:47ã€œ12:52 Cursorã§summarize.pyã¨EVERLOGé–¢é€£ã‚’ç¢ºèªï¼ˆ5åˆ†ï¼‰ [dev] â€” everLog/summarize.py ãŠã‚ˆã³ summarize.py ã®å®Ÿè£…/ä½¿ã„æ–¹ã‚’å‚ç…§ã—ãŸã€‚
```

---

## ğŸ“Š å®Œå…¨ãªãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        logs/2026-02-06.jsonl (å…ƒãƒ‡ãƒ¼ã‚¿)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 1: stage-00.raw.jsonl                                                 â”‚
â”‚  â””â”€â”€ eventã‚­ãƒ¼ã§ãƒ©ãƒƒãƒ—ã—ã¦ä¿å­˜                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 2: stage-01.entities.jsonl                                            â”‚
â”‚  â””â”€â”€ ç‰¹å¾´æŠ½å‡º (urls, paths, keywords, snippets, normalized_text)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 3: stage-02.segment.jsonl                                             â”‚
â”‚  â””â”€â”€ ã‚»ã‚°ãƒ¡ãƒ³ãƒˆIDä»˜ä¸ (segment_id, segment_label)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚                                    â”‚
                 â–¼                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 4: stage-03.hour.jsonl       â”‚  â”‚  Step 5: stage-03.llm.jsonl        â”‚
â”‚  â””â”€â”€ 1æ™‚é–“ãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆç”Ÿæˆ         â”‚  â”‚  â””â”€â”€ ã‚»ã‚°ãƒ¡ãƒ³ãƒˆLLM (enrich)         â”‚
â”‚      (top_apps, signals, snippets) â”‚  â”‚      (task_title, task_summary)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚                                       â”‚
                 â–¼                                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  Step 6: stage-04.hour-llm.jsonl   â”‚                   â”‚
â”‚  â””â”€â”€ æ™‚é–“ãƒ–ãƒ­ãƒƒã‚¯LLM (summarize)    â”‚                   â”‚
â”‚      (hour_title, hour_summary,    â”‚                   â”‚
â”‚       hour_detail, screens)        â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
                 â”‚                                       â”‚
                 â”‚                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚                      â–¼
                 â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚       â”‚  Step 7: stage-04.timeline.jsonl   â”‚
                 â”‚       â”‚  â””â”€â”€ ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è¡Œã®æ•´å½¢            â”‚
                 â”‚       â”‚      (segment + LLMçµæœã‚’çµåˆ)      â”‚
                 â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚                        â”‚
                 â–¼                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 8: out/2026-02-06.md (æœ€çµ‚ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³)                               â”‚
â”‚  â””â”€â”€ çµ±è¨ˆ + æ™‚é–“å¸¯è¦ç´„ + ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ ã‚’çµ±åˆ                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ ã‚¹ãƒ†ãƒ¼ã‚¸åã¨ç•ªå·ã®å¯¾å¿œè¡¨

| ãƒ•ã‚¡ã‚¤ãƒ«å | Step | å‡¦ç†å†…å®¹ | å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰ |
|-----------|------|----------|-------------|
| `run.json` | 0 | ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ | - |
| `stage-00.raw.jsonl` | 1 | ç”Ÿãƒ‡ãƒ¼ã‚¿ä¿å­˜ | enrich / summarize |
| `stage-01.entities.jsonl` | 2 | ç‰¹å¾´æŠ½å‡º | enrich / summarize |
| `stage-02.segment.jsonl` | 3 | ã‚»ã‚°ãƒ¡ãƒ³ãƒˆä»˜ä¸ | enrich / summarize |
| `stage-03.hour.jsonl` | 4 | 1æ™‚é–“ãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆ | summarize |
| `stage-03.llm.jsonl` | 5 | ã‚»ã‚°ãƒ¡ãƒ³ãƒˆLLM | enrich |
| `stage-04.hour-llm.jsonl` | 6 | æ™‚é–“ãƒ–ãƒ­ãƒƒã‚¯LLM | summarize |
| `stage-04.timeline.jsonl` | 7 | ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³æ•´å½¢ | summarize |
| `out/YYYY-MM-DD.md` | 8 | æœ€çµ‚ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ | summarize |

ã“ã‚Œã§å…¨8ã‚¹ãƒ†ãƒƒãƒ—ãŒæŠœã‘æ¼ã‚Œãªãæ•´ç†ã•ã‚Œã¾ã—ãŸï¼